(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ecf07912"],{"1b34":function(t,e,a){},"495e":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("mu-appbar",{staticStyle:{width:"100%"},attrs:{color:"primary"}},[a("mu-button",{attrs:{slot:"left",icon:"",onclick:"window.history.back()"},slot:"left"},[a("i",{staticClass:"iconfont icon-fanhui"})]),a("span",[t._v("编辑 - "+t._s(t.title))])],1),a("mu-form",{ref:"form",staticClass:"mu-demo-form pt70",attrs:{model:t.formData}},[a("mu-form-item",{attrs:{label:"标题","help-text":"",prop:"title",rules:t.titleRules}},[a("mu-text-field",{attrs:{prop:"title",placeholder:"请输入标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("mu-form-item",{attrs:{label:"描述",prop:"description",rules:t.descriptionRules}},[a("mu-text-field",{attrs:{prop:"description",placeholder:"请输入文章描述"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),a("mu-form-item",{attrs:{label:"内容",prop:"content"}},[a("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOption},on:{change:function(e){t.onEditorChange(e)}},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1),a("mu-form-item",{staticStyle:{"white-space":"nowrap"}},[a("mu-button",{attrs:{color:"primary"},on:{click:t.submit}},[t._v("提交")]),a("mu-button",{on:{click:t.clear}},[t._v("重置")]),a("mu-button",{attrs:{color:"error"},on:{click:t.del}},[t._v("删除")])],1)],1)],1)},i=[],n=(a("a481"),a("cadf"),a("551c"),a("097d"),a("eb59"),a("ef23"),a("953d")),r=a("5dde");n["Quill"].register("modules/ImageExtend",r["a"]);var s={name:"blog_add",components:{quillEditor:n["quillEditor"]},data:function(){return{editorOption:{placeholder:"请输入内容",modules:{syntax:!0,ImageExtend:{loading:!0,name:"img",action:"/api/file/upload",response:function(t){return t.url}},toolbar:{container:r["c"],handlers:{image:function(){r["b"].emit(this.quill.id)}}}}},title:"",formData:{},titleRules:[{validate:function(t){return!!t},message:"标题不能为空"}],descriptionRules:[{validate:function(t){return!!t},message:"描述不能为空"}],contentRules:[{validate:function(t){return!!t},message:"内容不能为空"}]}},filters:{},methods:{submit:function(){var t=this;this.$refs.form.validate().then(function(e){e&&t.$axios.post("/admin/edit",t.formData).then(function(e){200==e.status?(t.$toast.success(e.message),t.$router.replace({path:"/admin"})):t.$toast.error(e.message)})})},clear:function(){this.$refs.form.clear(),this.formData={}},onEditorChange:function(t){t.quill;var e=t.html;t.text;this.formData.content=e},del:function(){var t=this;this.$confirm("确定要删除？","警告",{type:"warning"}).then(function(e){var a=e.result;a&&t.$axios.post("/admin/delete",t.formData).then(function(e){200==e.status?(t.$toast.success(e.message),t.$router.replace({path:"/admin"})):t.$toast.error(e.message)})})}},created:function(){},mounted:function(){var t=this,e=this.$route.params;this.formData._id=e._id,this.$axios.post("/list/detail",e).then(function(e){t.formData=e.data,t.title=e.data.title})}},l=s,c=(a("8edf"),a("2877")),u=Object(c["a"])(l,o,i,!1,null,null,null);u.options.__file="edit.vue";e["default"]=u.exports},"8edf":function(t,e,a){"use strict";var o=a("1b34"),i=a.n(o);i.a}}]);